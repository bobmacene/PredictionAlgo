(function(){var aa=!0,Z=null,Y=!1;if(!(window.ADRUM||window["adrum-disable"]===aa)){window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime();var X="https:"===document.location.protocol;if(window["adrum-geo-resolver-url"]){var I=window["adrum-geo-resolver-url"],H=I.indexOf("://");-1!=H&&(I=I.substring(H+3));I=(X?"https://":"http://")+I}else{I=X?"":""}window.ADRUM={beaconUrlHttp:"http://col.eum-appdynamics.com",beaconUrlHttps:"https://col.eum-appdynamics.com",appKey:window["adrum-app-key"]||"AD-AAB-AAA-HGS",adrumExtUrl:(X?"https://de8of677fyt0b.cloudfront.net":"http://de8of677fyt0b.cloudfront.net")+"/adrum-ext.e39ae1f2afb7bb0faad24cf476d8250e.js",geoResolverUrl:I,useStrictDomainCookies:window["adrum-use-strict-domain-cookies"]===aa,TPL:{}};"APP_KEY_NOT_SET"===window.ADRUM.appKey&&"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']");var B=window.ADRUM;B.TPL.Qa=function(e){return 0<=e.location.search.indexOf("ADRUM_debug=true")||0<=e.cookie.search(/(^|;)\s*ADRUM_debug=true/)};B.TPL.iDR=B.TPL.Qa;B.isDebug=B.TPL.Qa(document);B.TPL.ia=100;B.logMessages=[];for(var s=["debug","warn","info","error"],r=0;r<s.length;r++){(function(e){B[e]=function(j,h){B.isDebug&&B.logMessages.push([e,Array.prototype.slice.call(arguments).join(" | ")])}})(s[r])}var p=0;B.TPL.N=function(j,m,e,h){j=e+"/eumcollector/error.gif?version=1&appKey="+h+"&msg="+encodeURIComponent(j.substring(0,500));m&&(j+="&stack=",j+=encodeURIComponent(m.substring(0,1500-j.length)));return j};B.TPL.cIEBU=B.TPL.N;B.TPL.j=function(e,h){2<=p||((new Image).src=B.TPL.N(e,h,B.beaconUrlHttps,B.appKey),p++)};var W=B.error;B.error=function(){if(0<arguments.length){var e=Array.prototype.slice.call(arguments).join(" | ");W(e);B.TPL.j(e,Z)}};B.exception=function(){if(!(1>arguments.length)){var e=Array.prototype.slice.call(arguments),h;(h=e[0])?(h=h.stack,h=!h||"string"!==typeof h?Z:h):h=Z;e=e.slice(1).join(" | ");W(e);B.TPL.j(e,h)}};B.assert=function(e,h){e||B.error("Assert fail: "+h)};B.isDebug&&(B.TPL.dumpLog=function(){for(var h="",j=0;j<B.logMessages.length;j++){var e=B.logMessages[j],h=h+("["+e[0]+"]\t"+e[1].replace(RegExp("<br/>","g"),"\n\t")+"\n")}return h});B.info("M0");B.addEventListener=function(j,m,e){function h(){try{return e.apply(this,Array.prototype.slice.call(arguments))}catch(t){B.exception(t,"M2",m,j,t)}}B.isDebug&&B.debug("M1",m,j);j.addEventListener?j.addEventListener(m,h,Y):j.attachEvent&&j.attachEvent("on"+m,h)};B.compareWindows=function(e,h){return e==h};B.TPL.p=function(z,t){function F(G){B.debug("M4",G);var J=new Date;J.setTime(J.getTime()-1000);document.cookie=G+"=;Expires="+J.toGMTString()}B.info("M3");for(var y=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/,w=t?t.length:0,u=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i,v=[],m=z.split(";"),h=0;h<m.length;h++){var A=m[h],e;a:{if(e=u.exec(A)){var j=e[1],C=e[4],D=e[5];if(Number(e[3])===w){F(j);e=[Number(C),D];break a}}e=Z}if(e){v.push(e)}else{if(e=y.exec(A)){B.debug("M5",A),3===e.length?(B.startTimeCookie={startTime:Number(e[1]),startPage:e[2]},F("ADRUM")):B.error("M6",A)}}}Array.prototype.sort.call(v,function(G,J){return G[0]-J[0]});y=[];for(h=0;h<v.length;h++){y.push(v[h][1])}v=/^\s*(ADRUM_BT)=(.*)\s*$/i;for(h=0;h<m.length;h++){u=[];if(e=v.exec(m[h])){if(A=e[1],e=e[2].replace(/^"|"$/g,""),e=decodeURIComponent(e).split("|"),j=e[0].split(":"),"R"===j[0]&&Number(j[1])===w){F(A);for(A=1;A<e.length;A++){u.push(e[A])}}}u&&0<u.length&&(y=y.concat(u))}B.cookieMetadataChunks=y};B.TPL.p(document.cookie,document.referrer);B.TPL.eck=B.TPL.p;B.q=[];B.isDead=Y;B.command=function(e,h){B.isDebug&&B.debug("M7",e,Array.prototype.slice.call(arguments).slice(1).join(", "));B.isDead?B.debug("M8"):B.q.length>=B.TPL.ia?(B.info("M9"),B.q=[],B.isDead=aa):(B.q.push(Array.prototype.slice.call(arguments)),B.processQ&&B.processQ())};B.command("mark","firstbyte",window["adrum-start-time"]);B.TPL.m={C:function(e){return !e||"apply" in e},h:function(j,m,e,h){B.assert(this.C(j),"M10");m=m||function(){};j=j||function(){};e=e||function(){};return function(){B.isDebug&&B.debug("M11",h,Array.prototype.slice.call(arguments).join(", "));var v=Array.prototype.slice.call(arguments),t;try{t=m.apply(this,v)}catch(u){B.exception(u,"M12",h,u)}B.assert(!t||"[object Array]"===Object.prototype.toString.call(t));var y=void 0;try{y=j.apply(this,t||v)}finally{try{e.apply(this,v)}catch(w){B.exception(w,"M13",h,w)}}return y}}};var M=function(){this.Aa=[];this.ca(V,0)},V="AFTER_FIRST_BYTE";M.prototype.Ga=[V,"AFTER_DOM_INTERACTIVE","AT_ONLOAD","AFTER_ONLOAD"];M.prototype.Y=function(e){this.ca("AFTER_DOM_INTERACTIVE",e)};M.prototype.ua=function(e){this.ca("AT_ONLOAD",e)};M.prototype.Z=function(e){this.ca("AFTER_ONLOAD",e)};M.prototype.ca=function(e,h){this.Aa.push({Nb:(new Date).getTime(),Mb:h,ba:e});this.ba=e};M.prototype.getPhaseID=function(e){for(var h=0;h<this.Ga.length;h++){if(this.Ga[h]==e){return h}}return Z};M.prototype.getPhaseCallbackTime=function(h){for(var j=this.Aa,e=0;e<j.length;e++){if(j[e].ba==h){return j[e].Nb}}return Z};M.prototype.findPhaseAtNominalTime=function(h){B.assert(0<=h);for(var j=this.Aa,e=j.length-1;0<=e;e--){if(h>=j[e].Mb){return j[e].ba}}B.error("M14",h,B.EXT.La(j));return V};B.lifecycle=new M;B.TPL.oa=M;var E=Y;B.listenForErrors=function(){B.TPL.m.C(window.onerror)?(window.onerror=B.TPL.m.h(window.onerror,function(h,j,e){E||B.command("reportError",h,j,e);E=aa},function(){E=Y},"onerror"),B.windowErrorHandler=window.onerror,B.info("M15")):B.info("M16")};B.listenForErrors();B.addEventListener(window,"load",function(e){B.lifecycle.ua(e&&e.timeStamp);setTimeout(function(){var t=(new Date).getTime();B.lifecycle.Z(t);B.command("mark","onload",t);B.navTiming=Z;if((t=window.performance||window.a||window.b||window.c)&&t.timing){if(t=t.timing,t.navigationStart&&t.navigationStart<=t.loadEventEnd){var h={},m;for(m in t){var j=t[m];"number"===typeof j&&(h[m]=j)}B.navTiming=h}else{B.debug("M43")}}B.command("reportOnload");m=document.createElement("script");m.async=aa;m.src=B.adrumExtUrl;(t=document.getElementsByTagName("script")[0])?(t.parentNode.insertBefore(m,t),B.info("M44")):B.info("M45")},0);B.info("M17")});var x=Y,q=function(e){x||(B.lifecycle.Y(e&&e.timeStamp),B.command("mark","onready",(new Date).getTime()),x=aa)},o=function(e){document.addEventListener?(document.removeEventListener("DOMContentLoaded",o,Y),q(e)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",o),q(e))};if(document.addEventListener){document.addEventListener("DOMContentLoaded",o,Y),window.addEventListener("load",q,Y)}else{document.attachEvent("onreadystatechange",o);window.attachEvent("onload",q);var n=Y;try{n=window.frameElement==Z&&document.documentElement}catch(l){}n&&n.doScroll&&function k(){try{n.doScroll("left")}catch(e){setTimeout(k,10);return}q()}()}B.info("M18");if(window["adrum-xhr-disable"]===aa){B.info("M19")}else{if(window.XMLHttpRequest){var i=window.XMLHttpRequest.prototype;if(i){if("open" in i&&"send" in i){if(!B.TPL.m.C(i.open)||!B.TPL.m.C(i.send)){B.info("M23")}else{B.info("M24");var g=function(h){var j=h._adrumXhrData;if(j){var e=(new Date).getTime();2==h.readyState?j.firstByteTime=j.firstByteTime||e:4==h.readyState&&(B.assert(j.respAvailTime===Z,"M25"),j.respAvailTime=j.respAvailTime||e,j.firstByteTime=j.firstByteTime||e)}},f=function(j,m){var e=j.getAllResponseHeaders(),h=j.status;B.command("reportXhr",m,e,h,400<=h?j.responseText:Z)},d=function(j,m,e){var h=j;j&&("object"===typeof j&&"toString" in j&&"[xpconnect wrapped nsIDOMEventListener]"===j.toString()&&"handleEvent" in j)&&(h=function(){j.handleEvent.apply(this,Array.prototype.slice.call(arguments))});return B.TPL.m.h(h,function(){g(this)},function(){var u=m._adrumXhrData;if(u&&4==m.readyState){var t=(new Date).getTime();B.assert(u.respProcTime===Z,"M26");u.respProcTime=u.respProcTime||t;f(m,u);delete m._adrumXhrData}},e)},c=function(h){if(h._adrumXhrData){var j=(new Date).getTime()+30000,e=function(){g(h);var t=h._adrumXhrData;if(t){var m=(new Date).getTime();4==h.readyState?(B.assert(t.respProcTime===Z,"M27"),t.respProcTime=t.respProcTime||m,B.debug("M28"),f(h,t),delete h._adrumXhrData):m<j?setTimeout(e,50):(delete h._adrumXhrData,B.debug("M29"))}};e()}};i.open=B.TPL.m.h(i.open,function(){this._adrumXhrData={url:2<=arguments.length?String(arguments[1]):"",sendTime:Z,firstByteTime:Z,respAvailTime:Z,respProcTime:Z,parentPhase:Z}},Z,"XHR.open");i.send=B.TPL.m.h(i.send,function(){var t=this,u=t._adrumXhrData;if(u){var h=(new Date).getTime();B.assert(u.sendTime===Z,"M30");u.sendTime=u.sendTime||h;u.parentPhase=B.lifecycle.ba;var m=u.url,h=document.createElement("a");h.href=m;m=document.location;":"===h.protocol&&""===h.hostname&&""===h.port||h.protocol===m.protocol&&h.hostname===m.hostname&&h.port===m.port?t.setRequestHeader("ADRUM","isAjax:true"):B.debug("M31",document.location.href,u.url);var j=0,e=function(){if(4==t.readyState){B.debug("M32"),c(t)}else{var w=Z;try{w=t.onreadystatechange}catch(v){B.debug("M33",v);c(t);return}j++;w?B.TPL.m.C(w)?(t.onreadystatechange=d(w,t,"XHR.onReadyStateChange"),B.debug("M34",j)):(B.debug("M35"),c(t)):5>j?setTimeout(e,0):(B.debug("M36"),c(t))}};e()}},Z,"XHR.send");var b="addEventListener" in i&&"removeEventListener" in i&&B.TPL.m.C(i.addEventListener)&&B.TPL.m.C(i.removeEventListener);B.TPL.Ja=function(){return function(j,m){if(!("load"!==j&&"error"!==j)&&m&&this._adrumXhrData){var e;e=m;if(e.__adrumInterceptor){e=e.__adrumInterceptor}else{if(B.TPL.m.C(e)){var h=d(e,this,"XHR.invokeEventListener");e=e.__adrumInterceptor=h}else{e=Z}}if(e){return h=Array.prototype.slice.call(arguments),h[1]=e,B.debug("M37"),h}B.debug("M38",j,m)}}};b?(i.addEventListener=B.TPL.m.h(i.addEventListener,B.TPL.Ja(),Z,"XHR.addEventListener"),i.removeEventListener=B.TPL.m.h(i.removeEventListener,function(h,j){if(this._adrumXhrData){var e=Array.prototype.slice.call(arguments);j.__adrumInterceptor?(e[1]=j.__adrumInterceptor,B.debug("M39")):B.debug("M40");return e}},Z,"XHR.removeEventListener")):B.debug("M41");B.info("M42")}}else{B.info("M22")}}else{B.info("M21")}}else{B.info("M20")}}}})();